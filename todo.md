## Todo List

### Phase 1: تحليل المتطلبات ودراسة الملف المرفق
- [ ] قراءة وتحليل وصف المشروع المقدم من المستخدم بعناية.
- [ ] فحص ملف Excel المرفق (اصلسيلز.xlsx) لفهم بنية البيانات والمعاملات الحالية.
- [ ] استخلاص جميع المتطلبات الوظيفية وغير الوظيفية من وصف المستخدم والملف المرفق.
- [ ] تحديد الكيانات الرئيسية والعلاقات بينها (مثل الوحدات، المبيعات، المصروفات، الإيجارات، التشطيبات، المستخدمين، الأدوار).
- [x] توضيح أي نقاط غامضة أو متطلبات غير مكتملة مع المستخدم.
- [ ] دمج متطلبات المرونة وقابلية التخصيص من قبل المسؤول (Admin) في تصميم النظام وقاعدة البيانات.

### Phase 2: تصميم هيكل قاعدة البيانات والنظام
- [x] تصميم مخطط قاعدة البيانات (ERD) بناءً على المتطلبات المستخلصة.
- [x] تحديد التقنيات المستخدمة للواجهة الخلفية (Backend) والواجهة الأمامية (Frontend).
- [x] تحديد هيكل مجلدات المشروع.

### Phase 3: إعداد البيئة التقنية وإنشاء المشروع
- [x] إنشاء مشروع الواجهة الخلفية (Backend) باستخدام Flask.
- [x] إنشاء مشروع الواجهة الأمامية (Frontend) باستخدام React.
- [x] إعداد قاعدة البيانات.

### Phase 4: تطوير الواجهة الخلفية (Backend)
- [x] تنفيذ نماذج قاعدة البيانات (Database Models).
- [x] إنشاء واجهات برمجة التطبيقات (APIs) لإدارة الوحدات والمبيعات والمصروفات والإيجارات والتشطيبات.
- [x] تنفيذ منطق العمل (Business Logic) لحسابات البيع والضرائب والعمولات.
- [x] تطوير نظام إدارة المستخدمين والأدوار (Authentication and Authorization).

### Phase 5: تطوير الواجهة الأمامية (Frontend)
- [x] تصميم وتطوير واجهة المستخدم (UI) بناءً على المتطلبات.
- [x] تطوير صفحة تسجيل الدخول والمصادقة.
- [x] تطوير لوحة التحكم الرئيسية (Dashboard).
- [x] تطوير صفحات إدارة الوحدات العقارية.
- [x] تطوير صفحات إدارة المبيعات.
- [x] تطوير صفحات إدارة المصروفات.
- [x] تطوير صفحات إدارة الإيجارات.
- [x] تطوير صفحات إدارة التشطيبات.
- [x] تطوير صفحات الإعدادات والتخصيص.
- [x] تطوير صفحات التقارير والإحصائيات.
- [x] تطوير صفحات إدارة المستخدمين والأدوار.
- [x] تطبيق دعم اللغتين العربية والإنجليزية.
- [x] تطبيق التصميم المتجاوب (Responsive Design).
- [x] اختبار الواجهة الأمامية مع الواجهة الخلفية.

### Phase 6: تطوير ميزات الطباعة والتصدير
- [x] تنفيذ وظيفة إنشاء وطباعة الفواتير والشيكات.
- [x] تنفيذ وظيفة تصدير البيانات إلى ملفات Excel.
- [x] إنشاء خدمات الطباعة في الواجهة الخلفية
- [x] إنشاء خدمات التصدير في الواجهة الخلفية
- [x] تطوير قوالب الفواتير والشيكات
- [x] تطوير واجهات الطباعة في الواجهة الأمامية
- [x] تطوير واجهات التصدير في الواجهة الأمامية
- [ ] اختبار ميزات الطباعة والتصدير

### Phase 7: اختبار التطبيق ونشره
- [ ] إجراء اختبارات شاملة للواجهة الخلفية والواجهة الأمامية.
- [ ] تشغيل الواجهة الخلفية (Backend)
- [ ] تشغيل الواجهة الأمامية (Frontend)
- [ ] اختبار تسجيل الدخول والمصادقة
- [ ] اختبار إدارة الوحدات والمبيعات
- [ ] اختبار ميزات الطباعة والتصدير
- [ ] اختبار التقارير والإحصائيات
- [ ] إعداد التطبيق للنشر
- [ ] نشر التطبيق على الإنترنت
- [ ] اختبار التطبيق المنشور
- [ ] نشر التطبيق للاختبار.

### Phase 8: تسليم المشروع والتوثيق
- [ ] إعداد وثائق المشروع (Project Documentation).
- [ ] تسليم المشروع للمستخدم.



- [x] قراءة وتحليل وصف المشروع المقدم من المستخدم بعناية.
- [x] فحص ملف Excel المرفق (اصلسيلز.xlsx) لفهم بنية البيانات والمعاملات الحالية.

**تحليل ملف Excel:**
الملف المرفق (excel_data.csv) يظهر أنه يحتوي على بيانات مبيعات معقدة وغير منظمة بشكل جدولي قياسي. يبدو أنه مصمم للاستخدام اليدوي مع خلايا مدمجة وتسميات متعددة الأسطر. هذا يتطلب استخلاص دقيق للمعلومات وتحديد الحقول ذات الصلة لتصميم قاعدة البيانات.

**النقاط الرئيسية المستخلصة من ملف Excel:**
- **معلومات العميل:** اسم العميل.
- **معلومات السيلز:** اسم السيلز، نسبة عمولة السيلز، نسبة الحافز للسيلز.
- **معلومات مدير المبيعات:** اسم مدير المبيعات، عمولة مدير المبيعات.
- **تفاصيل الوحدة:** نوع العقار المباع (شقة، تجاري، إداري، طبي)، كود الوحدة، سعر الوحدة.
- **العمولات والضرائب:**
    - العمولة المستحقة للشركة من شركة المبيعات.
    - إجمالي عمولة الشركة بدون ضرائب.
    - إجمالي الحافز المسلم للسيلز.
    - إجمالي المبلغ المسلم للشركة بعد 5%.
    - ضرائب المبيعات والقيمة المضافة.
    - إجمالي مبلغ العمولة بعد 14%.
    - إجمالي القيمة المضافة 14%.
    - إجمالي ضريبة المبيعات 5%.
    - إجمالي ضريبة 19%.
    - إجمالي صافي مبلغ الشركة.
    - نسبة عمولة الشركة (مقسمة حسب نوع العقار).
    - نسب الضرائب (ضريبة القيمة المضافة 14%، ضريبة المبيعات 5%، الضريبة السنوية 22.5%).

**المتطلبات الوظيفية المستخلصة:**
1.  **إدارة المبيعات:** تسجيل تفاصيل بيع الوحدات، حساب العمولات (للشركة، للسيلز، لمدير المبيعات)، حساب الضرائب (14% قيمة مضافة، 5% مبيعات، 19% إجمالي، 22.5% سنوية).
2.  **إدارة المصروفات:** تسجيل أنواع المصروفات (مرتبات، بوفيه، صرفيات، مواصلات، إلخ) وقيمها.
3.  **إدارة الإيجارات:** تسجيل تفاصيل الإيجارات.
4.  **إدارة التشطيبات:** تسجيل تفاصيل التشطيبات.
5.  **إدارة رصيد الخزنة:** إدخال رصيد أولي، تحديث الرصيد تلقائيًا بناءً على المعاملات (مبيعات، مصروفات، إيجارات، تشطيبات).
6.  **إدارة المستخدمين والأدوار:** نظام أدوار (Admin يتحكم في كل شيء، Accountant بصلاحيات قابلة للتخصيص).
7.  **التقارير:** إمكانية عمل فواتير وشيكات للطباعة، تصدير البيانات إلى Excel.
8.  **دعم اللغات:** واجهة المستخدم تدعم اللغتين العربية والإنجليزية.

**المتطلبات غير الوظيفية:**
-   **الأداء:** يجب أن يكون التطبيق سريع الاستجابة.
-   **الأمان:** حماية البيانات والمعاملات المالية.
-   **سهولة الاستخدام:** واجهة مستخدم بديهية.
-   **المرونة:** سهولة التوسع وإضافة ميزات مستقبلية.

**نقاط تحتاج إلى توضيح:**
-   هل هناك أنواع أخرى من العمولات أو الضرائب غير المذكورة؟
-   هل هناك تفاصيل محددة مطلوبة في فواتير الإيجارات والتشطيبات؟
-   هل هناك أي تقارير مالية محددة مطلوبة بخلاف تصدير البيانات؟
-   كيف يتم تحديد 


العمولات المستحقة للشركة من شركة المبيعات؟ هل هي نسبة ثابتة أم متغيرة؟
-   هل هناك أي تفاصيل إضافية حول كيفية حساب 'إجمالي المبلغ المسلم للشركة بعد 5%'؟
-   ما هي التفاصيل التي يجب أن تظهر في الشيكات عند الطباعة؟

**الخطوات التالية:**
-   بناءً على هذا التحليل، سأقوم بتصميم هيكل قاعدة البيانات والنظام في المرحلة التالية. سأفترض بعض التفاصيل بناءً على الممارسات المحاسبية الشائعة، ولكن سأكون مستعدًا للتعديل بناءً على توضيحات المستخدم.

